<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Что посмотреть сегодня</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #e50914;
        }
        
        .movie-card {
            display: flex;
            margin-top: 20px;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .movie-poster {
            flex: 0 0 200px;
            background-color: #ddd;
            position: relative;
        }
        
        .movie-poster img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }
        
        .movie-info {
            flex: 1;
            padding: 15px;
            background-color: #fff;
        }
        
        .movie-title {
            margin-top: 0;
            font-size: 24px;
            color: #e50914;
        }
        
        .movie-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #777;
        }
        
        .movie-description {
            line-height: 1.6;
        }
        
        .rating {
            font-weight: bold;
            color: #e50914;
        }
        
        button {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #e50914;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #b20710;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            font-style: italic;
            color: #777;
            display: none;
        }
        
        footer {
            margin-top: 20px;
            text-align: center;
            font-size: 12px;
            color: #777;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Что посмотреть сегодня</h1>
        
        <button id="getMovie">Получить рекомендацию</button>
        
        <div id="loading" class="loading">Ищем для вас отличный фильм...</div>
        
        <div id="movieCard" class="movie-card" style="display: none;">
            <div class="movie-poster">
                <img id="moviePoster" src="/api/placeholder/200/300" alt="Постер фильма">
            </div>
            <div class="movie-info">
                <h2 id="movieTitle" class="movie-title">Название фильма</h2>
                <div class="movie-meta">
                    <span id="movieYear">Год</span>
                    <span id="movieGenre">Жанр</span>
                    <span id="movieRating" class="rating">0.0</span>
                </div>
                <p id="movieDescription" class="movie-description">Описание фильма будет здесь.</p>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Данные о фильмах предоставлены TMDB API</p>
    </footer>

    <script>
        // Массив популярных фильмов и их ID в TMDB для демонстрации
        const popularMovies = [
            299536, 24428, 299534, 284053, 19995, 238, 155, 603, 120, 680, 
            1726, 101, 78, 13, 122, 769, 1891, 807, 857, 271110, 
            597, 505642, 118340, 27205, 240, 497, 550, 293660, 157336, 629
        ];
        
        // Функция для получения случайного фильма из списка
        function getRandomMovie() {
            const randomIndex = Math.floor(Math.random() * popularMovies.length);
            return popularMovies[randomIndex];
        }
        
        // Функция для имитации загрузки данных о фильме
        function fetchMovieData(movieId) {
            // В реальном приложении здесь был бы запрос к TMDB API
            return new Promise((resolve) => {
                // Имитация задержки сети
                setTimeout(() => {
                    // Данные о нескольких фильмах для демонстрации
                    const movies = {
                        299536: {
                            title: "Мстители: Война бесконечности",
                            year: "2018",
                            genre: "Фантастика, Боевик",
                            rating: "8.4",
                            description: "Пока Мстители и их союзники продолжают защищать мир от различных опасностей, с которыми не смог бы справиться один супергерой, новая угроза возникает из космоса: Танос. Межгалактический тиран преследует цель собрать все шесть Камней Бесконечности — артефакты невероятной силы, с помощью которых можно менять реальность по своему желанию."
                        },
                        24428: {
                            title: "Мстители",
                            year: "2012",
                            genre: "Фантастика, Боевик, Приключения",
                            rating: "8.0",
                            description: "Когда на Землю прибывает неожиданный враг, Ник Фьюри, директор международной организации по поддержанию мира, известной как Щ.И.Т., понимает, что ему нужна команда для спасения мира от катастрофы. Ему предстоит провести глобальный поиск чтобы найти самых сильных героев Земли, которые вместе составят команду Мстителей."
                        },
                        19995: {
                            title: "Аватар",
                            year: "2009",
                            genre: "Фантастика, Боевик",
                            rating: "7.8",
                            description: "Джейк Салли — бывший морской пехотинец, прикованный к инвалидному креслу. Несмотря на немощное тело, Джейк в душе по-прежнему остается воином. Он получает задание совершить путешествие в несколько световых лет к базе землян на планете Пандора, где корпорации добывают редкий минерал, имеющий огромное значение для выхода Земли из энергетического кризиса."
                        },
                        550: {
                            title: "Бойцовский клуб",
                            year: "1999",
                            genre: "Драма, Триллер",
                            rating: "8.8",
                            description: "Терзаемый хронической бессонницей и отчаянно пытающийся вырваться из мучительно скучной жизни, клерк встречает некоего Тайлера Дёрдена, харизматического торговца мылом с извращенной философией. Тайлер уверен, что самосовершенствование — удел слабых, а саморазрушение — единственное, ради чего стоит жить."
                        },
                        120: {
                            title: "Властелин колец: Братство Кольца",
                            year: "2001",
                            genre: "Фэнтези, Приключения",
                            rating: "8.8",
                            description: "Сказания о Средиземье — это хроника Великой войны за Кольцо, войны, длившейся не одну тысячу лет. Тот, кто владел Кольцом, получал власть над всеми живыми тварями, но был обязан служить злу. Тихая деревня, где живут хоббиты. Придя на 111-й день рождения к своему старому другу Бильбо Бэггинсу, волшебник Гэндальф начинает вести разговор о кольце, которое Бильбо нашел много лет назад."
                        }
                    };
                    
                    // Если у нас есть данные о запрошенном фильме
                    if (movies[movieId]) {
                        resolve(movies[movieId]);
                    } else {
                        // Возвращаем дефолтный фильм, если ID нет в нашей базе
                        resolve(movies[550]);
                    }
                }, 1500); // Задержка в 1.5 секунды для имитации загрузки
            });
        }
        
        // Функция для обновления UI с информацией о фильме
        function updateMovieUI(movieData) {
            document.getElementById('movieTitle').textContent = movieData.title;
            document.getElementById('movieYear').textContent = movieData.year;
            document.getElementById('movieGenre').textContent = movieData.genre;
            document.getElementById('movieRating').textContent = movieData.rating;
            document.getElementById('movieDescription').textContent = movieData.description;
            document.getElementById('moviePoster').src = `/api/placeholder/200/300`;
            
            document.getElementById('loading').style.display = 'none';
            document.getElementById('movieCard').style.display = 'flex';
        }
        
        // Обработчик нажатия кнопки
        document.getElementById('getMovie').addEventListener('click', function() {
            document.getElementById('movieCard').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            
            const randomMovieId = getRandomMovie();
            
            fetchMovieData(randomMovieId)
                .then(updateMovieUI)
                .catch(error => {
                    console.error('Ошибка при получении данных о фильме:', error);
                    document.getElementById('loading').textContent = 'Произошла ошибка. Пожалуйста, попробуйте снова.';
                });
        });
    </script>
</body>
</html>
